<div class="container-fluid">
  <div class="form-head d-flex mb-3 mb-md-5 align-items-start">
    <div class="col-lg-12">
      <div class="mr-auto d-none d-lg-block">
        <a href="javascript:void()" class="btn btn-primary mb-1 mr-1" data-toggle="modal" data-target="#add-factura">Asociar Factura</a>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-lg-12">
      <div class="card">
        <div class="card-body">
          <div class="table-responsive">
            <table id="table_id" class="table table-sm mb-0 table-striped">
              <thead>
                <tr>
                  <th class="pr-3">
                    <div class="custom-control custom-checkbox mx-2">
                      <input
                        type="checkbox"
                        class="custom-control-input"
                        id="checkAll"
                      />
                      <label
                        class="custom-control-label"
                        for="checkAll"
                      ></label>
                    </div>
                  </th>
                  <th>Banco</th>
                  <th>Fecha de Operación</th>
                  <th>1° Referencia</th>
                  <th>2° Referencia</th>
                  <th>Importe</th>
                  <th>N° Operación</th>
                </tr>
              </thead>

            </table>
          </div>
        </div>
      </div>
    </div>
    <div class="modal fade" id="add-factura">
      <div class="modal-dialog modal-dialog-centered" role="document">
          <div class="modal-content">
              <div class="modal-header">
                  <h5 class="modal-title">Seleccione Factura</h5>
                  <button type="button" class="close" data-dismiss="modal"><span>&times;</span>
                  </button>
              </div>
              <div class="modal-body">
                <div class="col-xl-6 col-lg-6">
                  <div class="card">
                      <div class="card-header">
                          <h4 class="card-title">Inline Radio </h4>
                      </div>
                      <div class="card-body">
                          <div class="basic-form">
                              <form>
                                  <div class="form-group mb-0">
                                      <label class="radio-inline mr-3"><input type="radio" name="optradio"> Option 1</label>
                                      <label class="radio-inline mr-3"><input type="radio" name="optradio"> Option 2</label>
                                      <label class="radio-inline mr-3"><input type="radio" name="optradio"> Option 3</label>
                                  </div>
                              </form>
                          </div>
                      </div>
                  </div>
                </div>
              </div>
              <div class="modal-footer">
                  <button type="button" class="btn btn-danger light" data-dismiss="modal">Close</button>
                  <button type="button" class="btn btn-primary">Save changes</button>
              </div>
          </div>
      </div>
    </div>
  </div>
</div>

<script type="text/javascript">
  document.addEventListener("DOMContentLoaded", function () {
    let dataSet = [];
    $(document).ready(function () {
      table = $("#table_id").DataTable({
        dom: "Blfrtip",
        buttons: ["excel"],
        lengthChange: true,
        paging: true,
        iDisplayLength: 10,
        aLengthMenu: [
          [10, 20, 50, 100, -1],
          [10, 20, 50, 100, "Todos"],
        ],
        data: dataSet,
      });

      table.clear();
      $.ajax({
        url: "/api/depositos",
        type: "GET",
        dataType: "JSON",
        //   data: data,
      }).done(function (res) {
        //asignar nuevos valores
        dataSet = res;
        table.rows.add(dataSet).draw();
      });
    });
  });
</script>
