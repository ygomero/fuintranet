<div class="container-fluid">
    <div class="form-head d-flex mb-3 mb-md-5 align-items-start">
        <div class="col-lg-12">
            <div class="mr-auto d-none d-lg-block">
                <a href="/usuarios/nuevo" class="btn btn-primary mb-1 mr-1">Nuevo usuario</a> 
                <a href="javascript:void()" class="btn btn-primary mb-1 mr-1">Resetear</a> 
            </div>
            
            <!--div class="input-group search-area">
                <input type="text" class="form-control" placeholder="Search here">
                <div class="input-group-append">
                    <a href="javascript:void(0)" class="input-group-text"><i class="flaticon-381-search-2"></i></a>
                </div>
            </div>
            <a href="javascript:void(0);" class="btn btn-primary ml-3"><i class="flaticon-381-settings-2 mr-0"></i></a-->
        </div>
    </div>
    <div class="row">
        <div class="col-lg-12">
            <div class="card">
                <div class="card-body">
                    <div class="table-responsive">
                        <table id="table_id" class="table table-sm mb-0 table-striped" >
                            <thead>
                                <tr>
                                    <th class=" pr-3">
                                        <div class="custom-control custom-checkbox mx-2">
                                            <input type="checkbox" class="custom-control-input" id="checkAll">
                                            <label class="custom-control-label" for="checkAll"></label>
                                        </div>
                                    </th>
                                    <th>Usuario</th>
                                    <th>Nombre</th>
                                    <th>NÂ° Doc</th>
                                    <th>Perfil</th>
                                    <th>Cargo</th>
                                    <th>Estado</th>
                                </tr>
                            </thead>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script type="text/javascript">
let dataSet = [];
$(document).ready( function () {
    table = $('#table_id').DataTable({
    dom: 'Blfrtip',
    buttons:[ 
        'excel'
    ],
    lengthChange: true,
    paging:true,
    iDisplayLength: 10,
    aLengthMenu: [[ 10, 20, 50, 100 ,-1],[10,20,50,100,"Todos"]],
    data:dataSet 
    });

    table.clear()
    $.ajax({
      url: '/api/users',
      type: 'GET',
      dataType:"JSON",
    //   data: data,
    }).done(function(res){
      //asignar nuevos valores
      dataSet = res;
      table.rows.add(dataSet).draw();
    })

  } );

  

</script>
